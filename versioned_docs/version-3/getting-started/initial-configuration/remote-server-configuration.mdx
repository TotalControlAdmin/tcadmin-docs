---
sidebar_position: 2
sidebar_label: Remote Server Configuration
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# Remote Server Configuration

This guide explains how to add a **remote server** to your TCAdmin setup. A remote server is an additional machine that hosts game servers, controlled from your main (master) TCAdmin panel.

:::info When do you need a remote server?
You only need remote servers if you want to host game servers on **more than one machine**. If you're running everything on a single server, you can skip this guide entirely.

Common reasons to add remote servers:
- Your main server is running out of RAM or CPU for more game servers
- You want to offer game servers in different geographic locations
- You want to separate your control panel from your game server machines
:::

## Before You Begin

Make sure you have:

- A working **master server** (completed the [Master Server Configuration](master-server-configuration.mdx) guide)
- A second server (the remote) that meets the [System Requirements](../system-requirements.mdx)
- The remote server must be able to connect to the master server's **MySQL database** and **Redis** service over the network

## Step 1: Configure the Master to Share Its Database

Before the remote server can connect, you need to tell the master server to share its database and Redis connection details.

### Set Up Database Connection Info

1. Log in to your TCAdmin control panel
2. Go to **Settings** > **Global Server Configuration**
3. Add the following settings so remote servers know how to reach the database:

| Key | Value | What It Does |
|-----|-------|--------------|
| `TCAdmin:Database:Host` | Master server IP and port (e.g., `192.168.1.100:3306`) | Tells remote servers where to find the database |
| `TCAdmin:Database:Database` | Database name (e.g., `tcadmin3`) | Which database to connect to |
| `TCAdmin:Database:User` | Database username | Login credentials for the database |
| `TCAdmin:Database:Password` | Database password | Login credentials for the database |

:::warning Use your server's real IP, not "localhost"
Remote servers can't connect to `localhost` — that refers to their own machine. Use your master server's actual IP address (e.g., `192.168.1.100` or your public IP).
:::

### Set Up Redis Connection Info

In the same **Global Server Configuration** page, click the **Advanced** section and add these Redis settings:

| Key | Value | What It Does |
|-----|-------|--------------|
| `TCAdmin:Redis:Mode` | `External` | Tells remote servers to connect to the master's Redis instead of running their own |
| `TCAdmin:Redis:Server` | Master server IP address | Where Redis is running |
| `TCAdmin:Redis:Port` | `6379` (or your custom port) | The port Redis listens on |
| `TCAdmin:Redis:Password` | Redis password | Authentication for the Redis connection |

:::tip Where to find the Redis password
The Redis password is stored in the master server's config file:
- **Windows:** `C:\Program Files\TCAdmin3\config\appsettings.global.json`
- **Linux:** `/opt/tcadmin3/config/appsettings.global.json`

Open the file and look for the `TCAdmin:Redis:Password` value.
:::

## Step 2: Add the Remote Server in the Panel

1. Go to **Settings** > **Servers**
2. Click **Add Server**
3. Fill in the details:
   - **Name** — a friendly name (e.g., "US East Game Server" or "Server 2")
   - **IP Address** — the remote server's IP address
   - **Operating System** — Windows or Linux
4. Click **Save**

### Configure License (Optional)

If you have a separate license for this remote server:
1. Select the newly created server
2. Click **Configuration** on the left menu
3. Enter the license key
4. Click **Save**

### Generate a Deployment Token

The deployment token lets the remote server automatically pull its configuration from the master — no manual database setup needed.

1. Go back to the server settings
2. Select the **Flash / Deployment** tab
3. Click **Reset Deployment Token**
4. **Copy the token** — you'll paste this during the remote server installation

:::warning Keep this token safe
The deployment token grants access to your TCAdmin configuration. Don't share it publicly. It's single-use for the initial setup.
:::

## Step 3: Install TCAdmin on the Remote Server

Connect to your remote server and run the TCAdmin installer:

<Tabs>
  <TabItem value="windows" label="Windows">

Open **PowerShell** as Administrator and run:

```powershell
& ([scriptblock]::Create((irm "https://v3.tcafiles.com/win-x64-beta.ps1")))
```

  </TabItem>
  <TabItem value="linux" label="Linux">

Run as root:

```bash
bash <(curl -fsSL https://v3.tcafiles.com/linux-beta.sh)
```

Or with sudo:

```bash
sudo bash <(curl -fsSL https://v3.tcafiles.com/linux-beta.sh)
```

  </TabItem>
</Tabs>

## Step 4: Walk Through the Installer Prompts

### Select Components

- **monitor** — **required** for remote servers (this is what manages game servers)
- **web** — **optional** for remote servers (only install if you want users to access the control panel directly from this server)

:::tip For most setups
Just install **monitor** on remote servers. Users will access the control panel through your master server's web interface, which can manage all servers from one place.
:::

### Installation Directory

Press **Enter** to accept the default, or choose a custom path:

<Tabs>
  <TabItem value="windows" label="Windows">

**Default:** `C:\Program Files\TCAdmin3`

  </TabItem>
  <TabItem value="linux" label="Linux">

**Default:** `/opt/tcadmin3`

  </TabItem>
</Tabs>

### Server Type

Select **Remote (connects to existing master)**.

### Configuration Method

You'll be asked how to configure the remote server. There are two options:

#### Option A: Flash Token (Recommended)

This is the easiest method — the remote server pulls its configuration from the master automatically.

1. Select **Flash Token (recommended - auto-configures from master)**
2. Paste the deployment token you copied from Step 2
3. The installer shows the API URL and Server ID to confirm the connection
4. The installer will display: "Database configuration will be pulled from the master server on first start"

#### Option B: Manual Configuration

If you prefer to enter the database details yourself:

1. Select **Manual configuration (enter database details)**
2. Enter the **Server ID** — this is the ID assigned to this server in the master panel (visible in **Settings** > **Servers**)
3. Enter the MySQL connection details:
   - **MySQL IP or hostname** — your master server's IP address
   - **MySQL port** — `3306` (default)
   - **MySQL username** — database user
   - **MySQL password** — database password
   - **MySQL database** — database name (e.g., `tcadmin3`)

### Add to PATH

Choose **Yes** to add the `tca` command to your system PATH (recommended).

## After Installation

Once the installer finishes:

1. The TCAdmin Monitor service starts automatically on the remote server
2. The remote server connects to the master and shows up as **Online**
3. You can now create game servers on this remote from the master control panel

### Verify the Connection

Go to **Settings** > **Servers** on the master control panel. Your remote server should show as **Online**. If it shows as offline, wait a minute and refresh — it can take a moment for the first connection.

### Import the Server's IP Addresses

Before you can create game servers on the remote, TCAdmin needs to know which IP addresses are available:

1. Go to **Settings** > **Servers**
2. Select the remote server
3. Click **IP Addresses** on the left menu
4. Click **Import IPs**
5. Disable or delete any IPs you don't want to use for game servers (e.g., internal/private IPs)

## What's Next?

Your remote server is ready! You can now create game servers on it from the master panel. If you haven't already, check out the [Plugin Repository](plugin-repository.mdx) to import game configurations.
