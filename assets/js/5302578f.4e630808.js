"use strict";(self.webpackChunktcadmin_docs=self.webpackChunktcadmin_docs||[]).push([[6430],{3905:(e,t,l)=>{l.d(t,{Zo:()=>m,kt:()=>h});var o=l(7294);function n(e,t,l){return t in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function r(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,o)}return l}function i(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?r(Object(l),!0).forEach((function(t){n(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):r(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function a(e,t){if(null==e)return{};var l,o,n=function(e,t){if(null==e)return{};var l,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)l=r[o],t.indexOf(l)>=0||(n[l]=e[l]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)l=r[o],t.indexOf(l)>=0||Object.prototype.propertyIsEnumerable.call(e,l)&&(n[l]=e[l])}return n}var s=o.createContext({}),d=function(e){var t=o.useContext(s),l=t;return e&&(l="function"==typeof e?e(t):i(i({},t),e)),l},m=function(e){var t=d(e.components);return o.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},p=o.forwardRef((function(e,t){var l=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,m=a(e,["components","mdxType","originalType","parentName"]),c=d(l),p=n,h=c["".concat(s,".").concat(p)]||c[p]||u[p]||r;return l?o.createElement(h,i(i({ref:t},m),{},{components:l})):o.createElement(h,i({ref:t},m))}));function h(e,t){var l=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=l.length,i=new Array(r);i[0]=p;var a={};for(var s in t)hasOwnProperty.call(t,s)&&(a[s]=t[s]);a.originalType=e,a[c]="string"==typeof e?e:n,i[1]=a;for(var d=2;d<r;d++)i[d]=l[d];return o.createElement.apply(null,i)}return o.createElement.apply(null,l)}p.displayName="MDXCreateElement"},8514:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=l(7462),n=(l(7294),l(3905));const r={sidebar_position:1,sidebar_label:"Sample Module"},i="Sample Module",a={unversionedId:"customizations/modules/sample-module",id:"customizations/modules/sample-module",title:"Sample Module",description:"This is an example of a module that can be installed onto your master which will work with TCAdmin.",source:"@site/docs/customizations/modules/sample-module.mdx",sourceDirName:"customizations/modules",slug:"/customizations/modules/sample-module",permalink:"/customizations/modules/sample-module",draft:!1,editUrl:"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/docs/customizations/modules/sample-module.mdx",tags:[],version:"current",lastUpdatedAt:1701001265,formattedLastUpdatedAt:"Nov 26, 2023",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"Sample Module"},sidebar:"tutorialSidebar",previous:{title:"Modules",permalink:"/category/modules"},next:{title:"Web Server Configurations",permalink:"/category/web-server-configurations"}},s={},d=[{value:"Sample View Page",id:"sample-view-page",level:2},{value:"Sample View Page - HelloWorld.cshtml",id:"sample-view-page---helloworldcshtml",level:3},{value:"Sample Controller",id:"sample-controller",level:2},{value:"Sample Controller - HelloWorldController.cs",id:"sample-controller---helloworldcontrollercs",level:3},{value:"Installing The Custom Module",id:"installing-the-custom-module",level:2},{value:"How to install the module after compiling it with TCAdmin:",id:"how-to-install-the-module-after-compiling-it-with-tcadmin",level:3},{value:"Module Preview",id:"module-preview",level:2},{value:"What this module looks like:",id:"what-this-module-looks-like",level:3},{value:"Module Download",id:"module-download",level:2}],m={toc:d},c="wrapper";function u(e){let{components:t,...r}=e;return(0,n.kt)(c,(0,o.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"sample-module"},"Sample Module"),(0,n.kt)("p",null,"This is an example of a module that can be installed onto your master which will work with TCAdmin."),(0,n.kt)("h2",{id:"sample-view-page"},"Sample View Page"),(0,n.kt)("h3",{id:"sample-view-page---helloworldcshtml"},"Sample View Page - HelloWorld.cshtml"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cshtml",metastring:"showLineNumbers",showLineNumbers:!0},'@model Game.HelloWorldModel\n@{\n    Layout = this.GetTemplateFile("Shared/Main.cshtml", true);\n \n    <script>\n        $(document).ready(function () {\n            document.title = "@TCAdmin.SDK.Web.MVC.Template.GetSelectedTemplateTitle() " + "Hello World!"; // Sets the page title\n            $(\'.header-text\').html("Hello World - A Sample Module") // Sets the page header\n        });\n    <\/script>\n}\n \n@section head{\n \n}\n \n@section sidebar{\n    @Html.Action("_PageIcons", "Service", new { id = Model.Service.ServiceId }) @*Adds the service buttons to the sidebar*@\n}\n<br />\n@Model.Message @*Displays the \'Hello World\' message*@\n<br />\n<br />\n@Model.ServiceStartedOn @*Displays information about the service startup time & process id*@\n')),(0,n.kt)("h2",{id:"sample-controller"},"Sample Controller"),(0,n.kt)("h3",{id:"sample-controller---helloworldcontrollercs"},"Sample Controller - HelloWorldController.cs"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-cs",metastring:"showLineNumbers",showLineNumbers:!0},'using System.Web.Mvc;\nusing TCAdmin.SDK.Web.MVC.Controllers;\n \nnamespace Game\n{\n    public class HelloWorldModel\n    {\n        public string Message { get; set; }\n        public string ServiceStartedOn { get; set; }\n        public TCAdmin.GameHosting.SDK.Objects.Service Service { get; set; }\n    }\n \n    public class HelloWorldController : BaseServiceController\n    {\n        [HttpGet]\n        [ParentAction("Service", "Home")]\n        public ActionResult Index(int id)\n        {\n            //Make sure the user has permission this feature\n            EnforceFeaturePermission("FileManager");\n \n            var model = new HelloWorldModel();\n            //Gets the current service\n            model.Service = TCAdmin.GameHosting.SDK.Objects.Service.GetSelectedService();\n            //Sets the message variable\n            model.Message = "Hello World!";\n            //Gets information about the service startup\n            model.ServiceStartedOn = string.Format($"{model.Service.ConnectionInfo} was started on {TCAdmin.SDK.Misc.Dates.UniversalTimeToCurrentTimeZone(model.Service.Status.StartTime)} with process id {model.Service.Status.ProcessId}");\n \n \n            return View("HelloWorld", model);\n        }\n    }\n}\n')),(0,n.kt)("h2",{id:"installing-the-custom-module"},"Installing The Custom Module"),(0,n.kt)("h3",{id:"how-to-install-the-module-after-compiling-it-with-tcadmin"},"How to install the module after compiling it with TCAdmin:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Copy ",(0,n.kt)("inlineCode",{parentName:"li"},"SampleModule.dll")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"TCAdmin2\\ControlPanel.MVC\\bin-extensions")),(0,n.kt)("li",{parentName:"ol"},"Copy ",(0,n.kt)("inlineCode",{parentName:"li"},"HelloWorld.cshtml")," to ",(0,n.kt)("inlineCode",{parentName:"li"},"ControlPanel.MVC\\Views\\[ThemeFolder]\\Game\\Service")),(0,n.kt)("li",{parentName:"ol"},"Clear the contents of ",(0,n.kt)("inlineCode",{parentName:"li"},"TCAdmin2\\Cache")," and restart the monitor"),(0,n.kt)("li",{parentName:"ol"},"You can then navigate to the module in your browser e.g ",(0,n.kt)("a",{parentName:"li",href:"http://127.0.0.1/Service/HelloWorld/1"},"http://127.0.0.1/Service/HelloWorld/1"))),(0,n.kt)("h2",{id:"module-preview"},"Module Preview"),(0,n.kt)("h3",{id:"what-this-module-looks-like"},"What this module looks like:"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"1200px-ModuleView1",src:l(896).Z,width:"1200",height:"485"})),(0,n.kt)("h2",{id:"module-download"},"Module Download"),(0,n.kt)("p",null,(0,n.kt)("a",{target:"_blank",href:l(8635).Z},"SampleModule.zip")))}u.isMDXComponent=!0},8635:(e,t,l)=>{l.d(t,{Z:()=>o});const o=l.p+"assets/files/SampleModule-e19a620185588d79369b53730975a7c4.zip"},896:(e,t,l)=>{l.d(t,{Z:()=>o});const o=l.p+"assets/images/1200px-ModuleView1-af67974a0fa3802ee0e2c0747f9f4f7d.png"}}]);