"use strict";(globalThis.webpackChunktcadmin_docs=globalThis.webpackChunktcadmin_docs||[]).push([[9691],{63077(e,l,o){o.r(l),o.d(l,{assets:()=>a,contentTitle:()=>r,default:()=>m,frontMatter:()=>s,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"customizations/modules/sample-module","title":"Sample Module","description":"This is an example of a module that can be installed onto your master which will work with TCAdmin.","source":"@site/versioned_docs/version-2/customizations/modules/sample-module.mdx","sourceDirName":"customizations/modules","slug":"/customizations/modules/sample-module","permalink":"/customizations/modules/sample-module","draft":false,"unlisted":false,"editUrl":"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/versioned_docs/version-2/customizations/modules/sample-module.mdx","tags":[],"version":"2","lastUpdatedAt":1770371384000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Sample Module"},"sidebar":"tutorialSidebar","previous":{"title":"Modules","permalink":"/category/modules"},"next":{"title":"Web Server Configurations","permalink":"/category/web-server-configurations"}}');var t=o(74848),i=o(28453);const s={sidebar_position:1,sidebar_label:"Sample Module"},r="Sample Module",a={},d=[{value:"Sample View Page",id:"sample-view-page",level:2},{value:"Sample View Page - HelloWorld.cshtml",id:"sample-view-page---helloworldcshtml",level:3},{value:"Sample Controller",id:"sample-controller",level:2},{value:"Sample Controller - HelloWorldController.cs",id:"sample-controller---helloworldcontrollercs",level:3},{value:"Installing The Custom Module",id:"installing-the-custom-module",level:2},{value:"How to install the module after compiling it with TCAdmin:",id:"how-to-install-the-module-after-compiling-it-with-tcadmin",level:3},{value:"Module Preview",id:"module-preview",level:2},{value:"What this module looks like:",id:"what-this-module-looks-like",level:3},{value:"Module Download",id:"module-download",level:2}];function c(e){const l={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.header,{children:(0,t.jsx)(l.h1,{id:"sample-module",children:"Sample Module"})}),"\n",(0,t.jsx)(l.p,{children:"This is an example of a module that can be installed onto your master which will work with TCAdmin."}),"\n",(0,t.jsx)(l.h2,{id:"sample-view-page",children:"Sample View Page"}),"\n",(0,t.jsx)(l.h3,{id:"sample-view-page---helloworldcshtml",children:"Sample View Page - HelloWorld.cshtml"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-cshtml",metastring:"showLineNumbers",children:'@model Game.HelloWorldModel\n@{\n    Layout = this.GetTemplateFile("Shared/Main.cshtml", true);\n \n    <script>\n        $(document).ready(function () {\n            document.title = "@TCAdmin.SDK.Web.MVC.Template.GetSelectedTemplateTitle() " + "Hello World!"; // Sets the page title\n            $(\'.header-text\').html("Hello World - A Sample Module") // Sets the page header\n        });\n    <\/script>\n}\n \n@section head{\n \n}\n \n@section sidebar{\n    @Html.Action("_PageIcons", "Service", new { id = Model.Service.ServiceId }) @*Adds the service buttons to the sidebar*@\n}\n<br />\n@Model.Message @*Displays the \'Hello World\' message*@\n<br />\n<br />\n@Model.ServiceStartedOn @*Displays information about the service startup time & process id*@\n'})}),"\n",(0,t.jsx)(l.h2,{id:"sample-controller",children:"Sample Controller"}),"\n",(0,t.jsx)(l.h3,{id:"sample-controller---helloworldcontrollercs",children:"Sample Controller - HelloWorldController.cs"}),"\n",(0,t.jsx)(l.pre,{children:(0,t.jsx)(l.code,{className:"language-cs",metastring:"showLineNumbers",children:'using System.Web.Mvc;\nusing TCAdmin.SDK.Web.MVC.Controllers;\n \nnamespace Game\n{\n    public class HelloWorldModel\n    {\n        public string Message { get; set; }\n        public string ServiceStartedOn { get; set; }\n        public TCAdmin.GameHosting.SDK.Objects.Service Service { get; set; }\n    }\n \n    public class HelloWorldController : BaseServiceController\n    {\n        [HttpGet]\n        [ParentAction("Service", "Home")]\n        public ActionResult Index(int id)\n        {\n            //Make sure the user has permission this feature\n            EnforceFeaturePermission("FileManager");\n \n            var model = new HelloWorldModel();\n            //Gets the current service\n            model.Service = TCAdmin.GameHosting.SDK.Objects.Service.GetSelectedService();\n            //Sets the message variable\n            model.Message = "Hello World!";\n            //Gets information about the service startup\n            model.ServiceStartedOn = string.Format($"{model.Service.ConnectionInfo} was started on {TCAdmin.SDK.Misc.Dates.UniversalTimeToCurrentTimeZone(model.Service.Status.StartTime)} with process id {model.Service.Status.ProcessId}");\n \n \n            return View("HelloWorld", model);\n        }\n    }\n}\n'})}),"\n",(0,t.jsx)(l.h2,{id:"installing-the-custom-module",children:"Installing The Custom Module"}),"\n",(0,t.jsx)(l.h3,{id:"how-to-install-the-module-after-compiling-it-with-tcadmin",children:"How to install the module after compiling it with TCAdmin:"}),"\n",(0,t.jsxs)(l.ol,{children:["\n",(0,t.jsxs)(l.li,{children:["Copy ",(0,t.jsx)(l.code,{children:"SampleModule.dll"})," to ",(0,t.jsx)(l.code,{children:"TCAdmin2\\ControlPanel.MVC\\bin-extensions"})]}),"\n",(0,t.jsxs)(l.li,{children:["Copy ",(0,t.jsx)(l.code,{children:"HelloWorld.cshtml"})," to ",(0,t.jsx)(l.code,{children:"ControlPanel.MVC\\Views\\[ThemeFolder]\\Game\\Service"})]}),"\n",(0,t.jsxs)(l.li,{children:["Clear the contents of ",(0,t.jsx)(l.code,{children:"TCAdmin2\\Cache"})," and restart the monitor"]}),"\n",(0,t.jsxs)(l.li,{children:["You can then navigate to the module in your browser e.g ",(0,t.jsx)(l.a,{href:"http://127.0.0.1/Service/HelloWorld/1",children:"http://127.0.0.1/Service/HelloWorld/1"})]}),"\n"]}),"\n",(0,t.jsx)(l.h2,{id:"module-preview",children:"Module Preview"}),"\n",(0,t.jsx)(l.h3,{id:"what-this-module-looks-like",children:"What this module looks like:"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.img,{alt:"1200px-ModuleView1",src:o(56462).A+"",width:"1200",height:"485"})}),"\n",(0,t.jsx)(l.h2,{id:"module-download",children:"Module Download"}),"\n",(0,t.jsx)(l.p,{children:(0,t.jsx)(l.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:o(44773).A+"",children:"SampleModule.zip"})})]})}function m(e={}){const{wrapper:l}={...(0,i.R)(),...e.components};return l?(0,t.jsx)(l,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},44773(e,l,o){o.d(l,{A:()=>n});const n=o.p+"assets/files/SampleModule-e19a620185588d79369b53730975a7c4.zip"},56462(e,l,o){o.d(l,{A:()=>n});const n=o.p+"assets/images/1200px-ModuleView1-af67974a0fa3802ee0e2c0747f9f4f7d.png"},28453(e,l,o){o.d(l,{R:()=>s,x:()=>r});var n=o(96540);const t={},i=n.createContext(t);function s(e){const l=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(l):{...l,...e}},[l,e])}function r(e){let l;return l=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),n.createElement(i.Provider,{value:l},e.children)}}}]);