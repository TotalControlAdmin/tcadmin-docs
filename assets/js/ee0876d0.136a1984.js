"use strict";(globalThis.webpackChunktcadmin_docs=globalThis.webpackChunktcadmin_docs||[]).push([[7658],{72335(e,n,i){i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"FAQ/linux-faq","title":"Linux FAQ","description":"Configure the Website on Port 80","source":"@site/versioned_docs/version-2/FAQ/linux-faq.mdx","sourceDirName":"FAQ","slug":"/FAQ/linux-faq","permalink":"/FAQ/linux-faq","draft":false,"unlisted":false,"editUrl":"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/versioned_docs/version-2/FAQ/linux-faq.mdx","tags":[],"version":"2","lastUpdatedAt":1770517548000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"Linux FAQ"},"sidebar":"tutorialSidebar","previous":{"title":"Windows FAQ","permalink":"/FAQ/windows-faq"}}');var r=i(74848),t=i(28453);const o={sidebar_position:3,sidebar_label:"Linux FAQ"},l="Linux FAQ",a={},c=[{value:"Configure the Website on Port 80",id:"configure-the-website-on-port-80",level:2},{value:"Enable HTTPS for the Control Panel Website",id:"enable-https-for-the-control-panel-website",level:2},{value:"Use a Custom SSL Certificate (Linux)",id:"use-a-custom-ssl-certificate-linux",level:2},{value:"Configure the TCAdmin Website to Run with Nginx",id:"configure-the-tcadmin-website-to-run-with-nginx",level:2},{value:"File Visibility Issues in FTP or File Manager",id:"file-visibility-issues-in-ftp-or-file-manager",level:2},{value:"Open Game Server Ports When Service Is Created (firewalld)",id:"open-game-server-ports-when-service-is-created-firewalld",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"linux-faq",children:"Linux FAQ"})}),"\n",(0,r.jsx)(n.h2,{id:"configure-the-website-on-port-80",children:"Configure the Website on Port 80"}),"\n",(0,r.jsx)(n.p,{children:"By default, the TCAdmin website user runs with a normal account, and normal users can't open ports lower than 1024. To work around this limitation, you can redirect port 80 to 8880 using iptables."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q1."})," How can I configure the website to run on port 80 on Linux?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A1."})," To configure the TCAdmin website to run on port 80, follow these steps:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Open a terminal on your Linux server."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Use the following command to redirect incoming traffic from port 80 to port 8880 using iptables:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"iptables -A PREROUTING -t nat -p tcp --dport 80 -j REDIRECT --to-port 8880\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If your server has more than one IP, and you want to redirect on a specific IP, use this command, replacing ",(0,r.jsx)(n.code,{children:"1.2.3.4"})," with your server's IP address:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"iptables -A PREROUTING -t nat -p tcp --dport 80 -d 1.2.3.4 -j REDIRECT --to-port 8880\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"After making the changes, save your iptables settings. Use one of the following commands, depending on your Linux distribution:"}),"\n",(0,r.jsx)(n.p,{children:"For CentOS:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"service iptables save\n"})}),"\n",(0,r.jsx)(n.p,{children:"For Debian/Ubuntu:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"iptables-save\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"You have successfully configured the TCAdmin website to run on port 80, and incoming traffic will be redirected to port 8880."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q2."})," How can I redirect port 21 to port 8821 for FTP?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A2."})," To redirect port 21 to port 8821 for FTP, you can use a similar iptables command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"iptables -A PREROUTING -t nat -p tcp --dport 21 -j REDIRECT --to-port 8821\n"})}),"\n",(0,r.jsx)(n.p,{children:"This command will redirect FTP traffic from port 21 to port 8821."}),"\n",(0,r.jsx)(n.h2,{id:"enable-https-for-the-control-panel-website",children:"Enable HTTPS for the Control Panel Website"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q3."})," How can I enable HTTPS for the control panel website on Linux?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A3."})," To enable HTTPS for the control panel website on Linux, follow these steps:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Open the file ",(0,r.jsx)(n.code,{children:"/home/tcadmin/Monitor/tcadmin-config"})," for editing."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Add the following line to the file to specify the secure web port (e.g., 8881):"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'SECURE_WEB_PORT="8881"\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Open the necessary port in your firewall to allow HTTPS traffic. You can use a command like ",(0,r.jsx)(n.code,{children:"firewall-cmd"})," to do this."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"After making these changes, restart the monitor service:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"/home/tcadmin/Monitor/monitor-service restart\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Now, the control panel website should be accessible over HTTPS on the specified port."}),"\n",(0,r.jsx)(n.h2,{id:"use-a-custom-ssl-certificate-linux",children:"Use a Custom SSL Certificate (Linux)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q4."})," How can I use a custom SSL certificate for the control panel website on Linux?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A4."})," To use a custom SSL certificate for the control panel website on Linux, follow these steps: ",(0,r.jsx)(n.a,{href:"/customizations/web-server-configurations/setting-up-nginx#create-a-self-signed-certificate-optional",children:"Create a self signed certificate"})]}),"\n",(0,r.jsx)(n.p,{children:"This should allow you to use a custom SSL certificate for the control panel website."}),"\n",(0,r.jsx)(n.h2,{id:"configure-the-tcadmin-website-to-run-with-nginx",children:"Configure the TCAdmin Website to Run with Nginx"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q5."})," How can I configure the TCAdmin website to run with Nginx on Linux?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A5."})," To configure the TCAdmin website to run with Nginx on Linux, follow the instructions provided in the article titled ",(0,r.jsx)(n.a,{href:"/customizations/web-server-configurations/setting-up-nginx",children:"Setting Up Nginx With TCAdmin"})]}),"\n",(0,r.jsx)(n.h2,{id:"file-visibility-issues-in-ftp-or-file-manager",children:"File Visibility Issues in FTP or File Manager"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q6."})," Some/all files are not visible in FTP or the file manager. How can I resolve this issue?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A6."})," By default, TCAdmin protects files with execute permissions. Only files that require execute permissions should have them. To remove execute permissions from a single file, use the following command:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"chmod -x /path/to/file\n"})}),"\n",(0,r.jsx)(n.p,{children:"To remove execute permissions for all files with a specific extension, you can use a command like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"find /path/to/game/server/root -type f -name '*.cfg' -exec chmod -x {} \\;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["To fix this issue on all new game servers, update the permissions in ",(0,r.jsx)(n.code,{children:"/home/tcadmin/tcafiles/games/gamefolder"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Another option is to set the value of ",(0,r.jsx)(n.code,{children:"RestrictLinuxExe"})," to ",(0,r.jsx)(n.code,{children:"False"})," in the server's ",(0,r.jsx)(n.code,{children:"Override.config"}),". If you do this, it is recommended to use the game's File System Permissions to hide important files like the startup script and main binary."]}),"\n",(0,r.jsx)(n.h2,{id:"open-game-server-ports-when-service-is-created-firewalld",children:"Open Game Server Ports When Service Is Created (firewalld)"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q7."})," How can I open game server ports when a service is created using firewalld?"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"A7."})," To open game server ports automatically when a service is created using firewalld, you can configure a global game script for the game server's after-created event. Use the following commands as an example:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"firewall-cmd --zone=public --permanent --add-port=${ThisService_GamePort}/tcp\nfirewall-cmd --zone=public --permanent --add-port=${ThisService_GamePort}/udp\nfirewall-cmd --zone=public --permanent --add-port=${ThisService_QueryPort}/tcp\nfirewall-cmd --zone=public --permanent --add-port=${ThisService_QueryPort}/udp\nfirewall-cmd --zone=public --permanent --add-port=${ThisService_RConPort}/tcp\nfirewall-cmd --zone=public --permanent --add-port=${ThisService_RConPort}/udp\nfirewall-cmd --reload\n"})}),"\n",(0,r.jsx)(n.p,{children:"These commands will add the specified ports to the firewalld configuration, making them accessible for the game server service when it is created."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var s=i(96540);const r={},t=s.createContext(r);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);