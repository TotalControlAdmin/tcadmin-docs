"use strict";(self.webpackChunktcadmin_docs=self.webpackChunktcadmin_docs||[]).push([[9611],{1791:(e,i,n)=>{n.d(i,{A:()=>o});const o=n.p+"assets/images/800px-GoogleDrive2-084309ecb00895612ecad1328d1f8406.png"},1887:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"using-tcadmin/manage-game-voice-services/google-drive","title":"Google Drive","description":"The TCAdmin file manager allows users to backup their files to Google Drive. These backups are stored within the user\'s Google account. The administrator\'s Google account is only required to activate the service on the domain.","source":"@site/docs/using-tcadmin/manage-game-voice-services/google-drive.mdx","sourceDirName":"using-tcadmin/manage-game-voice-services","slug":"/using-tcadmin/manage-game-voice-services/google-drive","permalink":"/using-tcadmin/manage-game-voice-services/google-drive","draft":false,"unlisted":false,"editUrl":"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/docs/using-tcadmin/manage-game-voice-services/google-drive.mdx","tags":[],"version":"current","lastUpdatedAt":1743525296000,"sidebarPosition":15,"frontMatter":{"sidebar_position":15,"sidebar_label":"Google Drive"},"sidebar":"tutorialSidebar","previous":{"title":"Limit Service CPU and Memory Usage","permalink":"/using-tcadmin/manage-game-voice-services/limit-service-cpu-memory"},"next":{"title":"Manage Teamspeak Virtual Servers","permalink":"/using-tcadmin/manage-ts-virtual-servers"}}');var t=n(4848),s=n(8453);const r={sidebar_position:15,sidebar_label:"Google Drive"},l="Google Drive",a={},c=[{value:"Requirements",id:"requirements",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Get your API key, client id and client secret",id:"get-your-api-key-client-id-and-client-secret",level:2},{value:"Configure the consent screen",id:"configure-the-consent-screen",level:2},{value:"Whitelist your domain",id:"whitelist-your-domain",level:2},{value:"Usage",id:"usage",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"google-drive",children:"Google Drive"})}),"\n",(0,t.jsx)(i.p,{children:"The TCAdmin file manager allows users to backup their files to Google Drive. These backups are stored within the user's Google account. The administrator's Google account is only required to activate the service on the domain."}),"\n",(0,t.jsx)(i.p,{children:"When backing up and restoring files using the TCAdmin file manager, the system applies the game's file system permissions. This means that if a user has permission to read a file, they can back it up to Google Drive. Similarly, if a user has permission to create a file, they can restore it from the backup."}),"\n",(0,t.jsx)(i.p,{children:"Furthermore, the TCAdmin file manager provides configuration options to customize access to this feature for specific games. Administrators can choose which games have access to the backup functionality. Additionally, they can set upload and download limits, allowing them to control the amount of data being transferred."}),"\n",(0,t.jsx)(i.p,{children:"In summary, the TCAdmin file manager enables users to conveniently backup their files to Google Drive, with the backups stored in their own Google account. The system leverages the game's file system permissions for backing up and restoring files. Administrators have control over access to this feature for different games and can set upload and download limits as needed."}),"\n",(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.img,{alt:"GoogleDrive1",src:n(7300).A+"",width:"800",height:"338"}),"\n",(0,t.jsx)(i.img,{alt:"GoogleDrive1",src:n(1791).A+"",width:"800",height:"337"})]}),"\n",(0,t.jsx)(i.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Your control panel must be accessible using a domain or subdomain. Direct IP access is not supported by Google."}),"\n",(0,t.jsxs)(i.li,{children:["If you don't have a domain you can do a reverse DNS lookup on your control panel's IP and use that hostname (if it has one). ",(0,t.jsx)(i.a,{href:"https://www.whatismyip.com/reverse-dns-lookup/",children:"https://www.whatismyip.com/reverse-dns-lookup/"})]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"limitations",children:"Limitations"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"TCAdmin can only restore files created by your control panel. It can't read other files in the client's Google Drive."}),"\n",(0,t.jsx)(i.li,{children:"If you delete the Google project and create a new one TCAdmin will not be able to read backups created with the previous project."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"get-your-api-key-client-id-and-client-secret",children:"Get your API key, client id and client secret"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Go to ",(0,t.jsx)(i.a,{href:"https://developers.google.com/drive/api/v3/quickstart/js",children:"Google Developers"})," You only need to follow step 1. You do not need to install Python 2.4.","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Click on ",(0,t.jsx)(i.code,{children:"Enable the Drive API"}),". This will give you the client id and client secret."]}),"\n",(0,t.jsxs)(i.li,{children:["Click on ",(0,t.jsx)(i.code,{children:"Create API key"}),". This will give you the API key."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:["Log in to your control panel. Go to ",(0,t.jsx)(i.code,{children:"System"})," > ",(0,t.jsx)(i.code,{children:"Settings"})," > ",(0,t.jsx)(i.code,{children:"Google Drive"}),".","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"Enter the client id, client secret and API key."}),"\n",(0,t.jsx)(i.li,{children:"Enable it."}),"\n",(0,t.jsx)(i.li,{children:"Click on games and select the games that have access to this feature."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"configure-the-consent-screen",children:"Configure the consent screen"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Log in to with your Google account at ",(0,t.jsx)(i.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})]}),"\n",(0,t.jsxs)(i.li,{children:["On the menu with the 3 bars on the upper left corner select ",(0,t.jsx)(i.code,{children:"API & Services"})," > ",(0,t.jsx)(i.code,{children:"Oath consent screen"})]}),"\n",(0,t.jsx)(i.li,{children:"Select EDIT APP next to Quickstart and select user type= external"}),"\n",(0,t.jsx)(i.li,{children:"Change the application name to something more suitable for your company/domain"}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"warning",children:(0,t.jsx)(i.p,{children:"DO NOT upload an application logo. If you do this it will require extra verification steps."})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Click on Add scope and add ",(0,t.jsx)(i.strong,{children:"Google Drive API ../auth/drive.file"}),". Do not add any other scopes."]}),"\n",(0,t.jsx)(i.li,{children:"Under Authorized domains enter your primary domain (not a sub domain)"}),"\n",(0,t.jsx)(i.li,{children:"Under Application Homepage link enter your control panel url."}),"\n",(0,t.jsx)(i.li,{children:"Under Application Privacy Policy link enter the link to your privacy policy. If you don't have one enter the control panel url."}),"\n",(0,t.jsx)(i.li,{children:"Click on Save."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"whitelist-your-domain",children:"Whitelist your domain"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["Log in to with your Google account at ",(0,t.jsx)(i.a,{href:"https://console.cloud.google.com/",children:"https://console.cloud.google.com/"})]}),"\n",(0,t.jsxs)(i.li,{children:["On the menu with the 3 bars on the upper left corner select ",(0,t.jsx)(i.code,{children:"API & Services"})," > ",(0,t.jsx)(i.code,{children:"Credentials"})]}),"\n",(0,t.jsx)(i.li,{children:"Click on OAuth client"}),"\n",(0,t.jsxs)(i.li,{children:["Under Authorized JavaScript origins add your control panel's domain and save. You can also add ",(0,t.jsx)(i.a,{href:"http://localhost:8880",children:"http://localhost:8880"})," for development ",(0,t.jsx)(i.strong,{children:"(ip will not work)."})]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"This may take up to 10 minutes to take effect."})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"After this has been applied your clients will be able to log in to Google Drive from the file manager and backup/restore files."}),"\n"]}),"\n",(0,t.jsx)(i.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsx)(i.li,{children:"In the file manager click on the Google Drive toolbar button. It will ask you to log in with a Google account."}),"\n",(0,t.jsx)(i.li,{children:"After logging in you can create a backup by right clicking on a file or folder and select Backup to Google Drive."}),"\n",(0,t.jsx)(i.li,{children:"To restore a backup click on the Google Drive toolbar button. Select the files or folders and click on restore. The files are restored to their original location."}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,s.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7300:(e,i,n)=>{n.d(i,{A:()=>o});const o=n.p+"assets/images/800px-GoogleDrive1-91dee9323cd2d1bc537c9e14ab89a5cb.png"},8453:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>l});var o=n(6540);const t={},s=o.createContext(t);function r(e){const i=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(s.Provider,{value:i},e.children)}}}]);