"use strict";(self.webpackChunktcadmin_docs=self.webpackChunktcadmin_docs||[]).push([[2252],{756:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>c,frontMatter:()=>d,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"misc/linux-quotas","title":"Linux Quotas","description":"How to Set Up User Quotas","source":"@site/docs/misc/linux-quotas.mdx","sourceDirName":"misc","slug":"/misc/linux-quotas","permalink":"/misc/linux-quotas","draft":false,"unlisted":false,"editUrl":"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/docs/misc/linux-quotas.mdx","tags":[],"version":"current","lastUpdatedAt":1743525296000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"sidebar_label":"Linux Quotas"},"sidebar":"tutorialSidebar","previous":{"title":"Limit Service CPU and Memory Usage","permalink":"/misc/limit-service-cpu-andmemory-usage"},"next":{"title":"Override config","permalink":"/misc/override-config"}}');var o=a(4848),s=a(8453);const d={sidebar_position:4,sidebar_label:"Linux Quotas"},r="Linux Quotas",i={},l=[{value:"How to Set Up User Quotas",id:"how-to-set-up-user-quotas",level:2},{value:"CentOS / Fedora / Redhat",id:"centos--fedora--redhat",level:2},{value:"Install quota",id:"install-quota",level:3},{value:"Modify /etc/fstab",id:"modify-etcfstab",level:3},{value:"Enable quotas on startup",id:"enable-quotas-on-startup",level:3},{value:"Add weekly quota check",id:"add-weekly-quota-check",level:3},{value:"Restart and create quota database",id:"restart-and-create-quota-database",level:3},{value:"Debian / Ubuntu",id:"debian--ubuntu",level:2},{value:"Install quota",id:"install-quota-1",level:3},{value:"Modify /etc/fstab",id:"modify-etcfstab-1",level:3},{value:"Restart and create quota database",id:"restart-and-create-quota-database-1",level:3}];function u(e){const t={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"linux-quotas",children:"Linux Quotas"})}),"\n",(0,o.jsx)(t.h2,{id:"how-to-set-up-user-quotas",children:"How to Set Up User Quotas"}),"\n",(0,o.jsx)(t.p,{children:"The following instructions are provided for your convenience. We are not responsible for errors caused by these instructions and we do not provide support for configuring quotas. For detailed instructions read the reference manual for your distro."}),"\n",(0,o.jsx)(t.h2,{id:"centos--fedora--redhat",children:"CentOS / Fedora / Redhat"}),"\n",(0,o.jsx)(t.h3,{id:"install-quota",children:"Install quota"}),"\n",(0,o.jsx)(t.p,{children:"Run the following command to install the quota package."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"yum install quota\n"})}),"\n",(0,o.jsx)(t.h3,{id:"modify-etcfstab",children:"Modify /etc/fstab"}),"\n",(0,o.jsxs)(t.p,{children:["Enable quotas on the partitions in ",(0,o.jsx)(t.code,{children:"/etc/fstab"}),". Partitions that do not have quotas enabled normally look something like:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"/dev/hda1       /       ext2    defaults        1       1\n/dev/hda2       /usr    ext2    defaults        1       1\n"})}),"\n",(0,o.jsx)(t.p,{children:'To enable user quota support on a file system, add ,usrquota to the fourth field containing the word "defaults" (man fstab for details).'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"/dev/hda1       /       ext2    defaults,usrquota        1       1\n/dev/hda2       /usr    ext2    defaults,usrquota       1       1\n"})}),"\n",(0,o.jsx)(t.h3,{id:"enable-quotas-on-startup",children:"Enable quotas on startup"}),"\n",(0,o.jsx)(t.p,{children:"Edit /etc/rc.local and add the following command."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"quotaon -a\n"})}),"\n",(0,o.jsx)(t.h3,{id:"add-weekly-quota-check",children:"Add weekly quota check"}),"\n",(0,o.jsxs)(t.p,{children:["Edit ",(0,o.jsx)(t.code,{children:"/etc/crontab"})," and add the following command."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"0  3  *  *  0 quotaoff -a;/sbin/quotacheck -aum;quotaon -a;\n"})}),"\n",(0,o.jsx)(t.h3,{id:"restart-and-create-quota-database",children:"Restart and create quota database"}),"\n",(0,o.jsx)(t.p,{children:"Restart your server to activate quotas. After restarting execute the following commands."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"quotaoff -a\nquotacheck -caum\nquotaon -a\n"})}),"\n",(0,o.jsx)(t.h2,{id:"debian--ubuntu",children:"Debian / Ubuntu"}),"\n",(0,o.jsx)(t.h3,{id:"install-quota-1",children:"Install quota"}),"\n",(0,o.jsx)(t.p,{children:"Run the following command to install the quota package."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"apt-get install quota\n"})}),"\n",(0,o.jsx)(t.h3,{id:"modify-etcfstab-1",children:"Modify /etc/fstab"}),"\n",(0,o.jsx)(t.p,{children:"Enable quotas on the partitions in /etc/fstab. Partitions that do not have quotas enabled normally look something like:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"/dev/hda1       /       ext2    defaults        1       1\n/dev/hda2       /usr    ext2    defaults        1       1\n"})}),"\n",(0,o.jsx)(t.p,{children:'To enable user quota support on a file system, add ,usrquota to the fourth field containing the word "defaults" (man fstab for details).'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"/dev/hda1       /       ext2    defaults,usrquota        1       1\n/dev/hda2       /usr    ext2    defaults,usrquota       1       1\n"})}),"\n",(0,o.jsx)(t.h3,{id:"restart-and-create-quota-database-1",children:"Restart and create quota database"}),"\n",(0,o.jsx)(t.p,{children:"Restart your server to activate quotas. After restarting execute the following commands."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"quotaoff -a\nquotacheck -caum\nquotaon -a\n"})})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,t,a)=>{a.d(t,{R:()=>d,x:()=>r});var n=a(6540);const o={},s=n.createContext(o);function d(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:d(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);