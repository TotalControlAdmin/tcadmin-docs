"use strict";(self.webpackChunktcadmin_docs=self.webpackChunktcadmin_docs||[]).push([[9352],{4861:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>n,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"customizations/scripts/general-scripts/kill-all-processes-running-from-the-game-servers-root-folder","title":"Kill all processes running from the game server\'s root folder","description":"These batch/shell scripts kill all running processes located in the game server\'s root directory and sub directories. You can configure it on the after stopped event.","source":"@site/docs/customizations/scripts/general-scripts/kill-all-processes-running-from-the-game-servers-root-folder.mdx","sourceDirName":"customizations/scripts/general-scripts","slug":"/customizations/scripts/general-scripts/kill-all-processes-running-from-the-game-servers-root-folder","permalink":"/customizations/scripts/general-scripts/kill-all-processes-running-from-the-game-servers-root-folder","draft":false,"unlisted":false,"editUrl":"https://github.com/TotalControlAdmin/tcadmin-docs/blob/master/docs/customizations/scripts/general-scripts/kill-all-processes-running-from-the-game-servers-root-folder.mdx","tags":[],"version":"current","lastUpdatedAt":1751535947000,"sidebarPosition":8,"frontMatter":{"sidebar_position":8,"sidebar_label":"Kill all processes running from the game server\'s root folder"},"sidebar":"tutorialSidebar","previous":{"title":"Install mod from WHMCS","permalink":"/customizations/scripts/general-scripts/install-mod-from-whmcs"},"next":{"title":"Limit Service\'s Disk Space","permalink":"/customizations/scripts/general-scripts/limits-services-disk-space"}}');var i=s(4848),o=s(8453);const n={sidebar_position:8,sidebar_label:"Kill all processes running from the game server's root folder"},c="Kill all processes running from the game server's root folder",l={},a=[];function d(e){const r={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"kill-all-processes-running-from-the-game-servers-root-folder",children:"Kill all processes running from the game server's root folder"})}),"\n",(0,i.jsx)(r.p,{children:"These batch/shell scripts kill all running processes located in the game server's root directory and sub directories. You can configure it on the after stopped event."}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Windows"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"set exelocation=%ThisService_RootDirectory:\\=\\\\%\nwmic path win32_process where \"ExecutablePath like '%%%exelocation%%%'\" call terminate\n"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Linux"}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:'#!/bin/bash\n\n# Remove any trailing slash from the directory path for consistency\nThisService_RootDirectory=${ThisService_RootDirectory%/}\n\n# Loop through all process IDs\nfor pid in $(ps -eo pid --no-headers); do\n    # Get the executable path of the process using the /proc filesystem\n    exe=$(readlink /proc/$pid/exe)\n    # Check if the executable path was retrieved successfully (not empty)\n    if [ -n "$exe" ]; then\n        # Extract the directory of the executable\n        exe_dir=$(dirname "$exe")\n        # Check if the executable\'s directory is the specified directory or a subdirectory\n        if [[ $exe_dir == $ThisService_RootDirectory || $exe_dir == $ThisService_RootDirectory/* ]]; then\n            # Terminate the process\n            kill $pid\n        fi\n    fi\ndone\n'})}),"\n",(0,i.jsx)(r.p,{children:"This Windows batch script kills a specific process located in the game server's root directory."}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"set executable=%ThisService_RootDirectory%CustomExe.exe\nwmic path win32_process where \"ExecutablePath like '%executable:\\=\\\\%'\" call terminate\n``\n"})})]})}function p(e={}){const{wrapper:r}={...(0,o.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,r,s)=>{s.d(r,{R:()=>n,x:()=>c});var t=s(6540);const i={},o=t.createContext(i);function n(e){const r=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:n(e.components),t.createElement(o.Provider,{value:r},e.children)}}}]);